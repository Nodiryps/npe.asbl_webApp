{% extends 'formLayout.html' %}
{% load static %}

{% block title %} Nouveau membre {% endblock %}

{% block form %}

<h2 class="display-4 my-5 d-flex justify-content-center">{{title}}</h2>

<div class="mb-4 d-flex justify-content-center text-center">
    <form id="userCreationForm" action="{%url 'accounts:userCreation' %}" method="post" enctype="multipart/form-data">
        <!--to say that req comes from our app-->
        {% csrf_token %}
        <!-- {{form.as_p}} -->
        {% include 'formRenderingLogic.html' %}

        <div class="text-center">
            <button class="formBtns btn btn-success" type="submit" id="createUserBtn">créer</button>
            <!-- <a class="formBtns btn btn-outline-secondary" href="{{ request.META.HTTP_REFERER }}">retour</a> -->
        </div>
    </form>
</div>

{% endblock %}

{% block javascript %}
<script text="javascript">
    $(() => {

        $('#id_birthDate').attr('type', 'text');

        $('#id_lastName').attr('placeholder', 'ex.: Torvalds');
        $('#id_firstName').attr('placeholder', 'ex.: Linus');
        $('#id_nationalNumber').attr('placeholder', 'ex.: 90.01.01-123.45 ou 90010112345');
        $('#id_email').attr('placeholder', 'ex.: email@gmail.com');
        $('#id_phoneNumber').attr('placeholder', 'ex.: 0498 12 34 56');
        $('#id_streetName').attr('placeholder', 'ex.: Rue de l\'Astronomie');
        $('#id_streetNumber').attr('placeholder', 'ex.: 1');
        $('#id_postalCode').attr('placeholder', 'ex.: 1000');
        $('#id_town').attr('placeholder', 'ex.: Bruxelles');
        // $('#id_username').attr('placeholder', '**auto-généré**');
        $('#id_password').attr('placeholder', 'min. 20 caractères');

        $('#id_town').css('text-transform', 'capitalize');
        $('#id_streetName').css('text-transform', 'capitalize');
        $('#id_lastName').css('text-transform', 'capitalize');
        $('#id_firstName').css('text-transform', 'capitalize');

        $('label[for=id_streetName]').before('<br><hr><br>');
        $('label[for=id_password]').before('<br><hr><br>');

        $('#id_username').hide();
        $('label[for=id_username]').hide();

    });
</script>
{% endblock %}
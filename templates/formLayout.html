{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    {% include 'links.html' %}
    <title>NPE</title>
</head>

<body>
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
        <div class="navbar">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="{{ request.META.HTTP_REFERER }}" onclick="goBack();">
                        <i class="fas fa-arrow-left fa-lg"></i>
                        <span class="sr-only">
                            (current)
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container" style="margin-top: 100px;">
        <h2 class="display-4 my-5 d-flex justify-content-center text-center">{% block title %} {% endblock %}</h2>

        {% block form %} {% endblock %}
    </div>

    {% include 'scripts.html' %}

    {% block javascript %} {% endblock %}

<script type="text/javascript">
    $(() => {

        $('#userCreationForm #id_birthDate').datepicker({
            date: null, // new Date('1990/09/09'),
            format: 'dd/mm/yyyy',
            startDate: startDate(),
            endDate: endDate(),
            language: 'fr-FR',
            startView: 2,
            weekStart: 1,
            autoHide: true,
            autoPick: true,
            yearFirst: true,
        });

        $('#dogCreationForm #id_birthDate, #dogCreationForm #id_arrivalDate').datepicker({
            date: null, // new Date('1990/09/09'),
            format: 'dd/mm/yyyy',
            startDate: startDateDog(),
            endDate: endDateDog(),
            date: null,
            language: 'fr-FR',
            startView: 2,
            weekStart: 1,
            autoHide: true,
            autoPick: true,
            yearFirst: true,
        });



    });

    function startDate() {
        const today = new Date($.now());
        return `31/12/${today.getFullYear() - 100}`;
    }

    function endDate() {
        const today = new Date($.now());
        return `31/12/${today.getFullYear() - 18}`;
    }

    function startDateDog() {
        const today = new Date($.now());
        return `31/12/${today.getFullYear() - 30}`;
    }

    function endDateDog() {
        const today = new Date($.now());
        return `31/12/${today.getFullYear()}`;
    }


    function goBack() {
        window.history.back();
    }
</script>


</body>
</html>